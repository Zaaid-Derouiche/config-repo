# =========================================================
# =============== AUTH-SERVICE (Docker / Local) ============
# =========================================================

spring.application.name=auth-service
server.port=${SERVER_PORT:8081}

# =========================================================
# =============== CONSUL CONFIGURATION =====================
# =========================================================
spring.cloud.consul.host=${CONSUL_HOST:localhost}
spring.cloud.consul.port=${CONSUL_PORT:8500}

# =========================================================
# =============== DATABASE CONFIGURATION ==================
# =========================================================
# R2DBC pour la connexion réactive
spring.r2dbc.url=${SPRING_R2DBC_URL:r2dbc:postgresql://localhost:5432/auth_db}
spring.r2dbc.username=${SPRING_R2DBC_USERNAME:admin}
spring.r2dbc.password=${SPRING_R2DBC_PASSWORD:admin}
spring.r2dbc.pool.initial-size=${SPRING_R2DBC_POOL_INITIAL_SIZE:2}
spring.r2dbc.pool.max-size=${SPRING_R2DBC_POOL_MAX_SIZE:10}

# =========================================================
# =============== FLYWAY CONFIGURATION =====================
# =========================================================
spring.flyway.enabled=${SPRING_FLYWAY_ENABLED:true}
spring.flyway.url=${SPRING_FLYWAY_URL:jdbc:postgresql://localhost:5432/auth_db}
spring.flyway.user=${SPRING_FLYWAY_USER:admin}
spring.flyway.password=${SPRING_FLYWAY_PASSWORD:admin}
spring.flyway.locations=${SPRING_FLYWAY_LOCATIONS:classpath:db/migration}
spring.flyway.baseline-on-migrate=${SPRING_FLYWAY_BASELINE_ON_MIGRATE:true}
spring.flyway.baseline-version=${SPRING_FLYWAY_BASELINE_VERSION:1}
spring.flyway.clean-disabled=${SPRING_FLYWAY_CLEAN_DISABLED:false}
spring.flyway.clean-on-startup=${SPRING_FLYWAY_CLEAN_ON_STARTUP:true}
spring.flyway.validate-on-migrate=${SPRING_FLYWAY_VALIDATE_ON_MIGRATE:false}
spring.flyway.out-of-order=${SPRING_FLYWAY_OUT_OF_ORDER:true}

# =========================================================
# =============== JPA (Désactivé car R2DBC) ================
# =========================================================
spring.data.jpa.repositories.enabled=false

# =========================================================
# =============== LOGGING CONFIGURATION ====================
# =========================================================
logging.level.org.flywaydb=${LOG_FLYWAY_LEVEL:DEBUG}
logging.level.io.r2dbc.postgresql=${LOG_R2DBC_LEVEL:DEBUG}
logging.level.org.springframework.r2dbc=${LOG_SPRING_R2DBC_LEVEL:DEBUG}
logging.level.com.architecte=${LOG_APP_LEVEL:DEBUG}

# ========== JWT CONFIGURATION ==========
jwt.secret=${JWT_SECRET:temporarySecretForDev}
jwt.expiration=${JWT_EXPIRATION:600000000}
jwt.refresh.expiration=${JWT_REFRESH_EXPIRATION:30000000000}







