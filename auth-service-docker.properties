spring.application.name=auth-service
server.port=8081


# Consul (DEV ou Docker via env)
spring.cloud.consul.host=${CONSUL_HOST:localhost}
spring.cloud.consul.port=${CONSUL_PORT:8500}


# ========== DATABASE CONFIGURATION ==========
# R2DBC Configuration - DEV
spring.r2dbc.url=r2dbc:postgresql://localhost:5432/auth_db
spring.r2dbc.username=admin
spring.r2dbc.password=admin
spring.r2dbc.pool.initial-size=2
spring.r2dbc.pool.max-size=10

# ========== FLYWAY CONFIGURATION - DEV ==========
spring.flyway.enabled=true
# URL JDBC pour Flyway (CRITIQUE)
spring.flyway.url=jdbc:postgresql://localhost:5432/auth_db
spring.flyway.user=admin
spring.flyway.password=admin
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=1
spring.flyway.clean-disabled=false
spring.flyway.clean-on-startup=true
spring.flyway.validate-on-migrate=false
spring.flyway.out-of-order=true

# ========== JPA DISABLED ==========
spring.data.jpa.repositories.enabled=false

# ========== LOGGING CONFIGURATION ==========
logging.level.org.flywaydb=DEBUG
logging.level.io.r2dbc.postgresql=DEBUG
logging.level.org.springframework.r2dbc=DEBUG
logging.level.com.architecte=DEBUG

# ========== SERVICE DISCOVERY ==========
# Consul Configuration
#spring.cloud.consul.host=${CONSUL_HOST:consul}
#spring.cloud.consul.port=${CONSUL_PORT:8500}
#spring.cloud.consul.discovery.enabled=true
#spring.cloud.consul.discovery.service-name=auth-service
#spring.cloud.consul.discovery.register=true
#spring.cloud.consul.discovery.health-check-path=/actuator/health
#spring.cloud.consul.discovery.health-check-interval=15s






